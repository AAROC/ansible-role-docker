---
- name: ensure docker dependencies are installed
  apt: name={{ item }} state=present
  with_items:
    - apt-transport-https
    - ca-certificates

- name: ensure Docker GPG key is present
  apt_key: id=58118E89F3A912897C070ADBF76221572C52609D keyserver=hkp://p80.pool.sks-keyservers.net:80

- name: ensure repo is present
  copy: src=files/docker.apt.repo dest=/etc/apt/sources.list.d/docker.list
  register: repofile

- name: ensure apt cache is updated
  apt: update_cache=yes

- name: ensure docker is installed
  apt: name=docker-engine state=present
